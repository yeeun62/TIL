### 코드스테이츠 7월 30일

---

### NoSQL Database?

매우 넓은 범위에서 사용하는 용어로, 관계형 테이블의 레거시한 방법을 사용하지 않는 데이터 저장소를 말한다.

### MongoDB

NoSQL 도큐먼트 데이터베이스다.
NoSQL은 데이터를 도큐먼트 형태로 저장한다. 도큐먼트는 컬렉션에 저장되며, MongoDB가 NoSQL 도큐먼트 데이터베이스로 분류되는 이유다.
MongoDB의 데이터는 BSON의 형태로 저장이 되고, 보통 읽기 쉬운 JSON의 형태로 출력된다.

### NoSQL 기반의 비관계형 데이터베이스를 많이 사용하는 경우

1. 비구조적인 대용량의 데이터를 저장하는 경우
   새로운 데이터 유형을 추가 할 수 있으며, 소프트웨어 개발에 정형화되지 않은 많은 양의 데이터가 필요한 경우, NoSQL이 효율적일 수 있다.

2. 클라우드 컴퓨팅 및 저장공간을 최대한 활용하는 경우
   데이터베이스를 클라우드 기반으로 쉽게 분리할 수 있도록 지원해 저장공간을 효율적으로 사용한다.
   SQL데이터베이스에서 수직적 확장의 형태로 DB를 증설해 수직적으로 확장된 데이터베이스는 관리가 어려워질 수 있는데, NoSQL은 수평적 확장의 형태로 증설해 서버를 계속 분산시겨 DB를 증설할 수 있다.

3. 빠르게 서비스를 구축하고 데이터 구조를 자주 업데이트 하는 경우
   스키마를 미리 준비할 필요가 없어서, 개발을 빠르게 해야하는 경우에 적합하다.

### Atlas Cloud

MongoDB에서는 Atlas 로 클라우드에 데이터베이스를 설정한다.
GUI와 CLI로 데이터를 시각화, 분석, 내보내기, 빌드하는데 사용할 수 있고 클러스터를 배포할 수 있으며, 클러스터는 그룹화된 서버에 데이터를 저장한다.

### 클러스터 배포(Cluster Deployment)

- 클러스터(Cluster)
  데이터를 저장하는 서버 그룹으로 여러 대의 컴퓨터를 네트워크를 통해 연결하여 하나의 단일 컴퓨터처럼 동작하도록 제작한 컴퓨터다.

- 레플리카 세트(Replica set)
  동일한 데이터를 저장하는 소수의 머신으로 레플리카 세트 중 하나에 문제가 발생하더라도 데이터를 그대로 유지할수있다.

- 단일 클러스터(Single cluster)
  인스턴스들의 모임을 클러스터라고 하며 하나의 시스템처럼 작동한다.
  단일 클러스터에서 각각의 인스턴스는 동일한 복제본을 가지고 있고 이모음을 레플리카 세트라고한다.
  클러스터를 이용해 배포할 경우, 레프릴카 세트를 생성한다.

### 용어

- 도큐먼트 (Document)
  필드 - 값 쌍으로 저장된 데이터
- 필드(Field)
  데이터 포인트를 위한 고유한 식별자
- 값(Value)
  주어진 식별자와 연결된 데이터
- 컬렉션(Collection)
  MongoDB의 도큐먼트로 구성된 저장소이다.
  일반적으로 도큐먼트 간의 공통 필드가 있다.
  데이터베이스 당 많은 컬렉션이 있고, 컬렉션 당 많은 도큐먼트가 있을 수 있다.

### JSON 과 BSON

도큐멘트를 작성하는 방법과 표현하는 방법.

- JSON (JavaScript Object Notation)
  shell을 이용해 모큐먼트를 조회하거나 업데이트 할 때, 도큐먼트는 JSON형식으로 출력된다.
  JSON형식은 읽기 쉽고, 많은 개발자들이 사용하기 편리한 형태를 가지고 있어 데이터를 저장하는 좋은 방법 중 하나다.
  그러나, 텍스트 형식이기 때문에 읽기 쉽지만 파싱이 느리고 메모리 사용이 비효율적이다.
  그리고 기본 데이터 타입만을 지원하기 때문에 사용 할 수 있는 데이터 타입에 제약이 있다.

  - 명령어:
    가져오기 : mongoimport
    내보내기 : mongoexport

- BSON (Binary JSON)
  JSON의 문제를 해결하기 위한 방안으로 BSON형식을 도입하였다.
  BSON은 컴퓨터의 언어에 가까운 이진법에 기반들 둔 표현법이다.
  JSON보다 메모리 사용이 효율적이며 빠르고, 가볍고, 유연하다. BSON의 사용으로 더 많은 데이터 타입을 사용할 수 있다.

  - 명령어 :
    가져오기 : mongorestore
    내보내기 : mongodump

MongoDB는 JSON형식으로 작성된 것은 무엇이든 데이터베이스에 추가할 수 있고, 쉽게 조회할 수 있다.
그 내부에서는 속도, 효율성, 유연성의 장점이 있는 BSON으로 데이터를 저장, 사용하고 있다.
단순히 백업 저장을 하기 위해서라면 가볍고 빠른 BSON의 형태를 사용하는 편이 좋고,
조회, 출력을 해야한다면 읽기 쉬운 JSON형식이 바람직하다.
