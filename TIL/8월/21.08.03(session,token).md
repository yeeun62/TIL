### 코드스테이츠 8월 3일

---

### CSRF

기존의 인증정보(쿠키)를 바탕으로 사용자가 어떤 변조된 서버를 믿어서 생기는 문제.

1. 악성 스크립트가 담긴 사이트를 열거나 링크를 클릭할 때, 변조된 요청을 보내는 공격이다.
2. 기존의 로그인한 기록을 바탕으로 서버가 클라이언트의 요청을 믿기 때문에 발생한다.
3. sameSite 옵션을 none이 아닌 것으로 바꾸어 CSRF 공격을 막을 수 있다.

XSS: code injection 공격 기법

### 세션

서버가 클라이언트에 유일하고 암호화된 id를 부여하고 중요데이터는 서버에서 관리한다.

- 내가 사이트에 보내는 정보들을 제 3자가 못 보게 한다. 암호화된 텍스트를 실어보낸다.
- 접속한 사이트가 믿을 만한 곳인지를 알려준다. 수상한 사이트를 걸러내줄 수 있게 한다.

### 세션과 토큰의 차이

세션인증과 토큰인증 가장 큰 차이 : 인증정보가 어디에 저장 되느냐

- 세션인증: 클라이언트(쿠키) + 서버 세션 스토어
- 토큰인증: 오직 클라이언트(쿠키, 로컬스토리지)

### 세션기반 인증방식

세션은 보통 하나의 서버에서만 접속 상태를 저장한다. 여러 개의 서버에서 같은 세션 데이터에 접근하려고 한다면 session clustering 혹은 공통 session store를 사용해야 하는 번거로움이 있다.(불가능한것은 아니다.)

1. 서버에 접속 상태가 저장된다.
2. 신뢰할 수 있는 유저인지 확인이 가능하다.
3. cookie에 세션 아이디가 저장된다.

세션기반 인증 대신 토큰기반 인증 사용을 고려한다면 다음과 같은 이유들이 있다.

1. 서버의 부담을 덜어주고
2. 여러개의 서버를 사용하는 서비스를 운영할때
3. 앱의 확장을 고려하고 있어서
