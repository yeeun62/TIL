### 코드스테이츠 8월 6일

---

### 가비지 컬렉션

프로그램에서 더 이상 사용하지 않는 메모리를 자동으로 정리하는 것.

코드를 짤 때 코드에 작성하는 변수들, 함수들, 객체들 메모리 공간을 차지하는 요소들이 채워져 메모리가 꽉 차게 되면 제대로 할 일을 하지 못하게 된다.
코드를 신중하게 짜도 비워줘야 할 메모리 공간을 놓치고 남겨두는 일이 생기는데 이걸 메모리 누수(Memory Leak)라고 한다.
메모리를 꽉 채우게 되면 컴퓨터는 뻗게된다.
중간중간 정리해주는 과정이 필요해 가비지 컬렉터라는 것을 도입하기 시작했다.
프로그래머가 일일이 하던 일을 대신 해주는데, 이렇게 메모리를 알아서 관리하는 언어들을 managed language라고 하며 반대로는 unmanaged language라고 한다.
언어와 동작하는 환경마다 다르지만 특정된 방식으로 필요없는 정보들을 버려준다.

    1. Mark and Sweep (트레이싱)
    메모리를 쭉 훑으면서 필요한 것들만 마크 한 후, 마크되지 않은 것들은 버린다.
    루트에서 닿지 않는 변수들을 치우는 것이다.

    2. Reference countion (래퍼런스 카운팅)
    한 객체를 참조하는 변수의 수를 추적하는 방법으로, 한 요소가 다른 요소에게 몇 번 참조가 되는지 숫자를 세어서 0이 되면 버린다.
    카운터가 0이 된다는 말은 어떤것도 그 객체에 대한 레퍼런스를 가지고 있지 않다는 말과 같다.

가비지 컬렉터는 멀티쓰레드로 돌면서 필요없는 요소를 제거해주지만 사람의 판단력을 가진 것이 아니기 때문에 100% 잡아 주진 못하는 한계가 있다.
바람직한 메모리 관리를 하기 위한 방식은 이것저것 있는데, 그 중 보편적인건 순환참조를 하면 안되는 것이다.

크롬 브라우저 및 node.js의 v8엔진 가비지컬렉션은 점진적 마킹을 이용한다.
힙 전체를 훑어서 가능한 모든 객체를 마킹하는 대신 힙의 일부만을 확인한 다음 정상적인 자바스크립트 실행을 계속한다.

###
