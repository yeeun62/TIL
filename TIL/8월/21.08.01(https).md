### 코드스테이츠 8월 1일

---

### https

https는 http에 secure(보안)이 추가됨을 뜻한다.

- 내가 사이트에 보내는 정보들을 암호화된 텍스트를 실어보내 제 3자가 못보게 해준다.
- 수상한 사이트를 걸러내줄수 있게 해주어 내가 접속한 사이트가 믿을 만한 곳인지를 알려준다.

기관으로부터 검증된 사이트만 주소에 https사용이 허가되고 http를 사용하는 사이트들은 not secure이 뜬다.

### 대칭키와 공개키

- 대칭키
  메세지를 보내는 쪽과 메세지를 받는 쪽이 메세지를 암호화하고, 이를 다시 메세지로 바꾸는 복호화하는 방식을 공유한다.
  내가 로그인할 때 실어보내는 비밀번호를 암호화하고 비밀번호를 받는 사이트에서 이를 복호화해서 인식할 수 있다.
  양쪽이 이 키를 공유하려면 한 번은 한쪽이 다른쪽으로 이 키를 전송해야 하는데 이과정에서 중간에 누군가 이걸 훔쳐본다면 문제가 생기게 되고 이것이 대칭키의 한계이다.

- 공개키
  두 개의 키가 사용되고 이 둘은 한 쌍이다. 서로 다르기 때문에 비대칭키라고도 불린다.
  1번키로 암호화를 하면 2번키로만 복호화를 할 수 있고, 2번키로 암호화를 하면 1번키로만 복호화를 할 수 있다.
  한 서버에서 두 키들 중 하나는 비밀로 보관하고(개인키) 다른 하나는 대중들에게 공개한다(공개키).
  중간에 누군가 가로채더라도 공개키로는 암호를 풀어낼 수 없다.

### CA(certificate authority)

공개한 공개키가 정품인지 확인할 수 있어야한다.
이걸 인증해주는 공인된 민간기업들이 있는데, 브라우저에는 ca들의 목록이 내장되어 있다.

### 악수(handleshake)

클라이언트는 서버를 신뢰하지 못해 일종의 탐색과정 악수(handleshake)를 하는데, 클라이언트는 어떤 랜덤 데이터를 생성해서 서버에 보내고 서버는 답변으로 서버측에서 생성한 무작위의 데이터와 해당 서버의 인증서를 실어보낸다. 클라이언트는 인증서가 진짜인지 브라우저에 내장된 ca들의 정보를 통해 확인하게 된다(공개키 시스템사용).

### 정보 전달 과정

ca로 인증받은 인증서들은 해당 ca의 개인키로 암호화가 되있어 브라우저에 저장된 ca의 공개키로 복호화할 수 있다.
이 공개키로 복호화될 수 있는 인증서를 받급받을 수 있는건 그에 대응하는 개인키를 가진 ca뿐이다.
ca리스트 중에 이 인증서가 해당되는게 없다면 브라우저 주소창에 not secure이 뜨게 된다.
성공적으로 복호화가 인증되면 이 서버의 공개키가 포함되어 있다.

하지만, 공개키로 메세지를 암호화해서 공개키 방식으로 주고받지 않고 대칭키와 공개키의 방식이 혼합되어 사용된다.
공개키 방식으로 메세지를 암호화, 복호화 하는 방식은 대칭키로 할 때보다 컴퓨터에 부담을 주게 되므로 공개키로 일일이 암호화, 복호화하는 것은 무리다.

대칭키를 공유할 때 공개키를 사용하는데(악수할 때 생성된 무작위의 데이터) 클라이언트는 주고받은 키를 혼합해 어떤 임시 키를 만든다.
임시키는 서버의 공개키로 암호화되어 서버에 보내진 후 양쪽에서 일련의 과정을 거쳐 동일한 대칭키가 만들어진다.
이제 이 대칭키는 클라이언트와 서버만 가지고 있기 때문에 대칭키로 메세지를 주고받으면 된다.
